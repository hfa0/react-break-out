(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(t,e,a){t.exports=a(22)},15:function(t,e,a){},17:function(t,e,a){},19:function(t,e,a){},22:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(9),s=a.n(i),l=(a(15),a(4)),o=a(5),c=a(6),u=a(7),h=a(3),d=(a(17),a(2)),m=a(1);a(19);function v(t){if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return f(t,e)}(t))){var e=0,a=function(){};return{s:a,n:function(){return e>=t.length?{done:!0}:{done:!1,value:t[e++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,i=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return i=t.done,t},e:function(t){s=!0,r=t},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw r}}}}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,n=new Array(e);a<e;a++)n[a]=t[a];return n}function b(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var a,n=Object(h.a)(t);if(e){var r=Object(h.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var y=a(21),p=function(t){var e=t.x,a=t.y,n=t.ballRadius;return r.a.createElement("circle",{cx:e,cy:a,r:n})},g=function(t){var e=t.x,a=t.y,n=t.w,i=t.h;return r.a.createElement("rect",{className:"bar",x:e,y:a,width:n,height:i,rx:"3",ry:"3"})},B=function(t){var e=t.x,a=t.y,n=t.w,i=t.h,s=t.alive;t.index;return r.a.createElement("g",{style:{display:s?"block":"none"}},r.a.createElement("rect",{className:"node",x:e,y:a,width:n,height:i,rx:"3",ry:"3"}))},x=function(t,e,a){for(var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,r=[],i=parseInt((t-4)/n),s=parseInt((e*a-4)/15),l=.9*i,o=(t-i*n)/2,c=o+.1*i/2,u=(e*a-15*s)/2,h=0;h<n*s;h++)h%n===0&&0!==h&&(c=o+.1*i/2,u+=15),r.push({x:c,y:u,w:l,h:13.5,alive:!0}),c+=i;return r},E=function(t){Object(c.a)(a,t);var e=b(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).screenWidth=800,t.screenHeight=400,t.ballRadius=10,t.barWidth=150,t.barHeight=10,t.line=.5,t.defaultState={xBall:t.screenWidth/2,yBall:t.screenHeight-t.ballRadius-t.barHeight,barWidth:t.barWidth,xBar:t.screenWidth/2-t.barWidth/2,yBar:t.screenHeight-t.barHeight,nodes:x(t.screenWidth,t.screenHeight,t.line),alphaBall:0,vBall:2,vBar:15,nodeColCount:10},t.state=Object(d.a)({isRunning:!1,isGameOver:!1},t.defaultState),t.startGame=t.startGame.bind(Object(m.a)(t)),t.stopGame=t.stopGame.bind(Object(m.a)(t)),t.resetGame=t.resetGame.bind(Object(m.a)(t)),t.moveBar=t.moveBar.bind(Object(m.a)(t)),t}return Object(o.a)(a,[{key:"resetGame",value:function(){this.stopGame();var t=this.state,e=t.vBall,a=t.nodeColCount,n=t.barWidth,r=t.vBar,i=this.screenWidth/2-this.state.barWidth/2;this.defaultState.nodes=x(this.screenWidth,this.screenHeight,this.line,a),this.setState(Object(d.a)({},this.defaultState,{xBar:i,vBar:r,vBall:e,nodeColCount:a,barWidth:n,isGameOver:!1}))}},{key:"setNodes",value:function(t){var e=this;this.setState(Object(d.a)({},this.state,{nodeColCount:t}),function(){e.resetGame()})}},{key:"setBarWidth",value:function(t){var e=this.state.barWidth-t;this.setState(Object(d.a)({},this.state,{barWidth:t,xBar:this.state.xBar+e/2}))}},{key:"startGame",value:function(){var t=this;this.state.isRunning||(this.timer=y.timer(function(){return t.gameLoop()}),this.gameLoop(),this.setState({isRunning:!0}))}},{key:"stopGame",value:function(){this.timer&&(this.timer.stop(),this.setState({isRunning:!1}))}},{key:"moveBar",value:function(t){if(t.preventDefault(),this.state.isRunning){var e=this.state,a=e.xBar,n=e.vBar,r=e.xBall,i=t.keyCode,s=0;39===i&&(s=n),37===i&&(s=-n),a+s<0||a+parseFloat(this.state.barWidth)+s>this.screenWidth||this.setState({xBar:a+s,xBall:this.state.isRunning?r:r+s})}}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.moveBar)}},{key:"componentWillUnmount",value:function(){this.stopGame(),document.removeEventListener("keydown",this.moveBar)}},{key:"bounceSucceed",value:function(t,e){return t>=e&&t<=e+this.state.barWidth}},{key:"gameOver",value:function(){this.stopGame(),this.setState({isGameOver:!0})}},{key:"findCollidingNodes",value:function(){var t,e=!1,a=this.state,n=a.nodes,r=a.xBall,i=a.yBall,s=v(n);try{for(s.s();!(t=s.n()).done;){var l=t.value;if(l.alive){var o=r>=l.x&&r<=l.x+l.w,c=i+this.ballRadius>=l.y&&i-this.ballRadius<=l.y+l.h;if(e=o&&c){l.alive=!1;break}}0}}catch(u){s.e(u)}finally{s.f()}return this.setState({nodes:n}),e}},{key:"gameLoop",value:function(){var t=this.state,e=t.xBall,a=t.vBall,n=t.yBall,r=t.alphaBall,i=t.xBar,s=function(t){return t-Math.PI/2};if(0===r){var l=Math.random()*(5*Math.PI/16-1*Math.PI/4)+1*Math.PI/4;r=1===Math.round(Math.random())?l:Math.PI-l}else e+this.ballRadius>this.screenWidth?r=s(r):e<this.ballRadius&&(r=s(r));if(n<this.ballRadius&&(r=s(r)),n>this.screenHeight-this.ballRadius-this.barHeight){if(!this.bounceSucceed(e,i))return this.gameOver();r=s(r)}if(n-this.ballRadius<=this.screenHeight*this.line&&(this.findCollidingNodes()&&(r=s(r),0===this.state.nodes.filter(function(t){return t.alive}).length)))return this.gameOver();var o=Math.round(Math.sin(r),2)*a,c=Math.round(Math.cos(r),2)*a;this.setState({yBall:n-o,xBall:e-c,alphaBall:r})}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"game"},r.a.createElement("div",null,this.state.isGameOver?r.a.createElement("svg",{className:"gameover",width:this.screenWidth,height:this.screenHeight},r.a.createElement("text",{className:"text-center",x:this.screenWidth/2,y:this.screenHeight/2},"Game Over")):r.a.createElement("svg",{className:"screen",width:this.screenWidth,height:this.screenHeight},this.state.nodes.map(function(t,e){return r.a.createElement(B,{key:e,index:e,alive:t.alive,x:t.x,y:t.y,w:t.w,h:t.h})}),r.a.createElement(p,{x:this.state.xBall,y:this.state.yBall,ballRadius:this.ballRadius}),r.a.createElement(g,{x:this.state.xBar,y:this.state.yBar,w:this.state.barWidth,h:this.barHeight}))),r.a.createElement("div",{className:"control"},r.a.createElement("button",{onClick:this.startGame},"start Game"),r.a.createElement("button",{onClick:this.stopGame},"stop Game"),r.a.createElement("button",{onClick:this.resetGame},"reset Game")),!this.state.isRunning&&r.a.createElement("div",{className:"control-input"},r.a.createElement("div",{className:"control-input-entry"}," ",r.a.createElement("div",null,"node columns"),"  ",r.a.createElement("input",{type:"number",value:this.state.nodeColCount,onChange:function(e){return t.setNodes(e.target.value)}})),r.a.createElement("div",{className:"control-input-entry"}," ",r.a.createElement("div",null,"ball velocity"),"  ",r.a.createElement("input",{type:"number",value:this.state.vBall,onChange:function(e){return t.setState(Object(d.a)({},t.state,{vBall:e.target.value}))}})),r.a.createElement("div",{className:"control-input-entry"}," ",r.a.createElement("div",null,"bar width"),"  ",r.a.createElement("input",{type:"number",value:this.state.barWidth,onChange:function(e){return t.setBarWidth(e.target.value)}})),r.a.createElement("div",{className:"control-input-entry"}," ",r.a.createElement("div",null,"bar velocity"),"  ",r.a.createElement("input",{type:"number",value:this.state.vBar,onChange:function(e){return t.setState(Object(d.a)({},t.state,{vBar:Number(e.target.value)}))}}))))}}]),a}(n.Component);function w(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var a,n=Object(h.a)(t);if(e){var r=Object(h.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(u.a)(this,a)}}var O=function(t){Object(c.a)(a,t);var e=w(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement("div",{className:"instruction"},"start the game and use left and right arrow buttons to move the bar"))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[10,2,1]]]);
//# sourceMappingURL=main.dd121b6c.chunk.js.map